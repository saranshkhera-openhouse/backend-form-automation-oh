@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

:root {
  --bg: #f8f8f6;
  --surface: #ffffff;
  --border: #e5e5df;
  --border-focus: #111827;
  --text: #111827;
  --text-2: #6b7280;
  --text-3: #9ca3af;
  --accent: #111827;
  --accent-hover: #1f2937;
  --success: #16a34a;
  --success-bg: #f0fdf4;
  --error: #dc2626;
  --error-bg: #fef2f2;
  --warn-bg: #fffbeb;
  --warn: #d97706;
  --blue-bg: #eff6ff;
  --blue: #2563eb;
  --r: 8px;
  --r-lg: 12px;
  --font: 'DM Sans', system-ui, sans-serif;
  --mono: 'JetBrains Mono', monospace;
}

*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: var(--font);
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
}

/* ── Header ── */
.header {
  background: var(--accent);
  color: #fff;
  padding: 14px 20px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: sticky;
  top: 0;
  z-index: 100;
}

.header .logo { font-size: 18px; font-weight: 700; letter-spacing: 0.5px; }
.header .subtitle { font-size: 12px; opacity: 0.7; margin-top: 1px; }
.header a { color: #fff; text-decoration: none; font-size: 12px; opacity: 0.8; }
.header a:hover { opacity: 1; }

/* ── Container ── */
.container { max-width: 720px; margin: 0 auto; padding: 24px 16px 80px; }
.container.wide { max-width: 1080px; }

/* ── Stepper ── */
.stepper { display:flex; align-items:center; justify-content:center; gap:0; margin-bottom:28px; padding:16px 0; }

.step {
  display:flex; align-items:center; gap:6px;
  cursor:pointer; user-select:none;
}

.step-num {
  width:32px; height:32px; border-radius:50%;
  background:var(--border); color:var(--text-3);
  display:flex; align-items:center; justify-content:center;
  font-weight:600; font-size:13px; transition:all .25s;
}

.step.active .step-num { background:var(--accent); color:#fff; box-shadow:0 0 0 3px rgba(17,24,39,.12); }
.step.done .step-num { background:var(--success); color:#fff; }

.step-text { font-size:12px; font-weight:500; color:var(--text-3); }
.step.active .step-text { color:var(--text); }
.step.done .step-text { color:var(--success); }

.step-line { width:40px; height:2px; background:var(--border); margin:0 6px; transition:background .25s; }
.step-line.done { background:var(--success); }

/* ── Card ── */
.card {
  background:var(--surface); border:1px solid var(--border);
  border-radius:var(--r-lg); padding:28px 24px; margin-bottom:20px;
}

.card-title { font-size:16px; font-weight:700; margin-bottom:2px; }
.card-desc { font-size:12px; color:var(--text-2); margin-bottom:20px; }

/* ── Pages ── */
.page { display:none; }
.page.active { display:block; animation:fadeUp .25s ease; }

@keyframes fadeUp {
  from { opacity:0; transform:translateY(6px); }
  to { opacity:1; transform:translateY(0); }
}

/* ── Fields ── */
.fg { margin-bottom:16px; }

.row2 { display:grid; grid-template-columns:1fr 1fr; gap:14px; }
.row3 { display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px; }

@media (max-width:600px) {
  .row2, .row3 { grid-template-columns:1fr; }
}

label { display:block; font-size:11px; font-weight:600; color:var(--text-2); text-transform:uppercase; letter-spacing:.4px; margin-bottom:5px; }
label .req { color:var(--error); }

input[type="text"], input[type="number"], input[type="tel"],
input[type="url"], input[type="date"], select, textarea {
  width:100%; padding:9px 12px;
  border:1.5px solid var(--border); border-radius:var(--r);
  font-family:var(--font); font-size:14px; color:var(--text);
  background:var(--surface); outline:none; transition:border .2s, box-shadow .2s;
}

input:focus, select:focus, textarea:focus {
  border-color:var(--border-focus);
  box-shadow:0 0 0 2px rgba(17,24,39,.07);
}

input::placeholder, textarea::placeholder { color:var(--text-3); }

select {
  cursor:pointer; appearance:none;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
  background-repeat:no-repeat; background-position:right 10px center; padding-right:32px;
}

textarea { resize:vertical; min-height:60px; }

/* Prefilled (read-only) */
input.pre { background:#f0f4ff; border-color:#bfdbfe; color:var(--text); }

/* ── Multi-select pills ── */
.pills { display:flex; flex-wrap:wrap; gap:6px; margin-top:4px; }

.pills label {
  display:flex; align-items:center; gap:5px;
  font-size:12px; font-weight:400; text-transform:none; letter-spacing:0;
  background:var(--bg); border:1.5px solid var(--border);
  padding:5px 10px; border-radius:18px; cursor:pointer;
  transition:all .15s; user-select:none;
}

.pills label:hover { border-color:var(--accent); }
.pills input[type="checkbox"] { width:14px; height:14px; accent-color:var(--accent); }

/* ── Radio group ── */
.radios { display:flex; flex-wrap:wrap; gap:6px; }

.radios label {
  display:flex; align-items:center; gap:5px;
  font-size:12px; font-weight:400; text-transform:none; letter-spacing:0;
  background:var(--bg); border:1.5px solid var(--border);
  padding:7px 14px; border-radius:var(--r); cursor:pointer; transition:all .15s;
}

.radios label:hover { border-color:var(--accent); }
.radios input[type="radio"] { width:14px; height:14px; accent-color:var(--accent); }

/* ── Buttons ── */
.btn-row { display:flex; gap:10px; justify-content:space-between; margin-top:24px; padding-top:20px; border-top:1px solid var(--border); }

.btn {
  padding:10px 24px; border:none; border-radius:var(--r);
  font-family:var(--font); font-size:13px; font-weight:600;
  cursor:pointer; transition:all .2s; display:inline-flex; align-items:center; gap:6px;
  text-decoration:none;
}

.btn-dark { background:var(--accent); color:#fff; }
.btn-dark:hover { background:var(--accent-hover); transform:translateY(-1px); }
.btn-dark:disabled { background:var(--text-3); cursor:not-allowed; transform:none; }

.btn-outline { background:var(--surface); color:var(--text); border:1.5px solid var(--border); }
.btn-outline:hover { background:var(--bg); }

.btn-green { background:var(--success); color:#fff; }
.btn-green:hover { background:#15803d; }

/* ── UID box ── */
.uid-box {
  background:#f1f5f9; border:1.5px solid var(--border); border-radius:var(--r);
  padding:10px 14px; font-family:var(--mono); font-size:15px; font-weight:600;
  color:var(--accent); text-align:center; letter-spacing:.5px;
}

/* ── Toast ── */
.toast {
  position:fixed; top:70px; right:16px;
  padding:12px 18px; border-radius:var(--r);
  font-size:13px; font-weight:500;
  box-shadow:0 4px 16px rgba(0,0,0,.1);
  z-index:1000; animation:slideIn .3s ease; max-width:360px;
}

.toast.ok { background:var(--success-bg); color:var(--success); border:1px solid #bbf7d0; }
.toast.err { background:var(--error-bg); color:var(--error); border:1px solid #fecaca; }
.toast.warn { background:var(--warn-bg); color:var(--warn); border:1px solid #fde68a; }

@keyframes slideIn { from{transform:translateX(100%);opacity:0} to{transform:translateX(0);opacity:1} }

/* ── Prefill status ── */
.pf-status { padding:10px 14px; border-radius:var(--r); font-size:12px; margin-bottom:16px; display:none; font-weight:500; }
.pf-status.show { display:block; }
.pf-status.ok { background:var(--success-bg); color:var(--success); }
.pf-status.err { background:var(--error-bg); color:var(--error); }

/* ── Search row ── */
.search-row { display:flex; gap:10px; align-items:flex-end; }
.search-row .fg { flex:1; margin-bottom:0; }

/* ── Divider ── */
hr.div { border:none; border-top:1px solid var(--border); margin:20px 0; }

/* ── Sub heading ── */
.sub-h { font-size:13px; font-weight:600; color:var(--text-2); margin-bottom:10px; }

/* ── Spinner ── */
.spin { width:16px; height:16px; border:2px solid rgba(255,255,255,.3); border-top-color:#fff; border-radius:50%; animation:sp .5s linear infinite; display:inline-block; }
@keyframes sp { to{transform:rotate(360deg)} }

/* ── Admin table ── */
.tbl { width:100%; border-collapse:collapse; font-size:12px; }
.tbl th { background:var(--accent); color:#fff; padding:9px 12px; text-align:left; font-size:10px; text-transform:uppercase; letter-spacing:.4px; font-weight:600; }
.tbl td { padding:9px 12px; border-bottom:1px solid var(--border); }
.tbl tr:hover td { background:var(--bg); }

.badge { display:inline-block; padding:2px 7px; border-radius:10px; font-size:10px; font-weight:600; }
.badge.ok { background:var(--success-bg); color:var(--success); }
.badge.wait { background:var(--warn-bg); color:var(--warn); }

.link { color:var(--blue); text-decoration:none; font-weight:600; font-size:11px; }
.link:hover { text-decoration:underline; }

/* ── Stats ── */
.stats { display:grid; grid-template-columns:repeat(auto-fit, minmax(160px,1fr)); gap:12px; margin-bottom:24px; }
.stat { background:var(--surface); border:1px solid var(--border); border-radius:var(--r-lg); padding:18px; text-align:center; }
.stat-val { font-size:28px; font-weight:700; color:var(--accent); }
.stat-lbl { font-size:11px; color:var(--text-2); text-transform:uppercase; letter-spacing:.3px; margin-top:2px; }

/* ── Responsive ── */
/* ── Searchable Dropdown ── */
.search-dd { position:relative; }

.search-dd-input {
  width:100%; padding:9px 12px;
  border:1.5px solid var(--border); border-radius:var(--r);
  font-family:var(--font); font-size:14px; color:var(--text);
  background:var(--surface); outline:none; transition:border .2s, box-shadow .2s;
}

.search-dd-input:focus { border-color:var(--border-focus); box-shadow:0 0 0 2px rgba(17,24,39,.07); }
.search-dd-input:disabled { background:#f3f4f6; color:var(--text-3); cursor:not-allowed; }
.search-dd-input::placeholder { color:var(--text-3); }

.search-dd-list {
  display:none; position:absolute; top:100%; left:0; right:0;
  max-height:220px; overflow-y:auto;
  background:var(--surface); border:1.5px solid var(--border);
  border-top:none; border-radius:0 0 var(--r) var(--r);
  box-shadow:0 8px 24px rgba(0,0,0,.1);
  z-index:50;
}

.search-dd-item {
  padding:9px 12px; font-size:13px; cursor:pointer;
  border-bottom:1px solid var(--border);
}

.search-dd-item:hover { background:var(--bg); }
.search-dd-item:last-child { border-bottom:none; }
.search-dd-empty { padding:12px; font-size:12px; color:var(--text-3); text-align:center; }

/* ── N/A toggle ── */
.na-field { display:flex; align-items:center; gap:10px; }
.na-field input[type="number"] { flex:1; }
.na-toggle { display:flex; align-items:center; gap:4px; font-size:11px; font-weight:600; color:var(--text-2); cursor:pointer; white-space:nowrap; user-select:none; }
.na-toggle input[type="checkbox"] { width:15px; height:15px; accent-color:var(--accent); }

@media (max-width:600px) {
  .container { padding:16px 10px 60px; }
  .card { padding:20px 16px; }
  .stepper { gap:0; }
  .step-text { display:none; }
  .step-line { width:24px; }
  .btn-row { flex-direction:column; }
  .btn { width:100%; justify-content:center; }
  .search-row { flex-direction:column; }
}
